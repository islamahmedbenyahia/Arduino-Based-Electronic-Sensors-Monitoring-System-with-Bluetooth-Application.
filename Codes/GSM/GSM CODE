// Inclure la bibliothèque SoftwareSerial pour utiliser le port série logiciel
#include <SoftwareSerial.h>

// Définir les broches pour le module GSM 800L et le buzzer
#define GSM_TX 3
#define GSM_RX 2
#define BUZZER_PIN 10

// Créer un objet SoftwareSerial pour communiquer avec le module GSM 800L
SoftwareSerial GSMSerial(GSM_TX, GSM_RX);

// Définir le numéro de téléphone à contacter en cas d'alerte
String phone_number = "+213xxxxxxxxx";

// Définir le message à envoyer en cas d'alerte
String message = "Alerte ! Un signal a été détecté par les capteurs !";

void setup() {
  // Initialiser la broche du buzzer comme sortie
  pinMode(BUZZER_PIN, OUTPUT);

  // Initialiser la communication série avec le moniteur série
  Serial.begin(9600);

  // Initialiser la communication série avec le module GSM 800L
  GSMSerial.begin(9600);

  // Attendre que le module GSM soit prêt
  delay(5000);

  // Envoyer la commande AT au module GSM pour vérifier la connexion
  GSMSerial.println("AT");
  
  // Attendre la réponse du module GSM
  delay(1000);

  // Lire la réponse du module GSM et l'afficher sur le moniteur série
  while (GSMSerial.available() > 0) {
    Serial.write(GSMSerial.read());
  }
}

void loop() {
  // Vérifier si un signal est détecté par un des capteurs activés
  if (/* condition à définir selon les capteurs utilisés */) {
    // Faire sonner le buzzer
    digitalWrite(BUZZER_PIN, HIGH);

    // Envoyer un message d'alerte au numéro de téléphone défini
    sendSMS(phone_number, message);
  }
  else {
    // Arrêter le buzzer
    digitalWrite(BUZZER_PIN, LOW);
  }
}

// Fonction pour envoyer un SMS avec le module GSM
void sendSMS(String number, String text) {
  // Envoyer la commande AT+CMGF=1 au module GSM pour passer en mode texte
  GSMSerial.println("AT+CMGF=1");
  
  // Attendre la réponse du module GSM

